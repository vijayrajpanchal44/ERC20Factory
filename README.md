# ERC20 token factory 

## What does this repository contain?

1. An `ERC20` contract using the [@openzeppelin/contracts](https://github.com/OpenZeppelin/openzeppelin-contracts) standards.
2. Simple `SimpleFactory` contract and `FactoryUsingERC1167` to deploy ERC20  contracts.
3. A Javascript test file for testing the `Factory` and `FactoryUsingERC1167` contract with [Hardhat].

## What can I use it for?

You can deploy the `Factory` contract on an Ethereum blockchain network, and then use it to trustlessly deploy secure new ERC20 tokens on that same network.

## How can I use it?

1. Install `Hardhat` with `npm install -g hardhat`.
2. Install dependencies with `npm install`.
3. Compile code with `npx hardhat compile`.
4. Start the test suite with `npx hardhat test`

## Gas uses comparison 

| Gas uses   | Simple Token Factory  | ERC1167 Token Factory | Simple ERC20 Token | For ERC1167 ERC20 token |
|------------|-----------------------|-----------------------|--------------------|-------------------------|
| Deployment | 2074219               | 802843                | 1464615            | 1565831                 |


## using hardhat-gas-reporter
·-------------------------------------------|----------------------------|-------------|-----------------------------·
|            Solc version: 0.8.5            ·  Optimizer enabled: false  ·  Runs: 200  ·  Block limit: 30000000 gas  │
············································|····························|·············|······························
|  Methods                                                                                                           │
······················|·····················|··············|·············|·············|···············|··············
|  Contract           ·  Method             ·  Min         ·  Max        ·  Avg        ·  # calls      ·  eur (avg)  │
······················|·····················|··············|·············|·············|···············|··············
|  ERC20Token         ·  approve            ·           -  ·          -  ·      46846  ·            3  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  ERC20Token         ·  decreaseAllowance  ·           -  ·          -  ·      30028  ·            1  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  ERC20Token         ·  increaseAllowance  ·           -  ·          -  ·      30168  ·            1  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  ERC20Token         ·  initialize         ·       91251  ·      91275  ·      91254  ·           14  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  ERC20Token         ·  mint               ·           -  ·          -  ·      68484  ·            5  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  ERC20Token         ·  transfer           ·       47499  ·      52311  ·      51105  ·            4  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  ERC20Token         ·  transferFrom       ·           -  ·          -  ·      60506  ·            1  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  ERC20TokenFactory  ·  tokenFactory       ·           -  ·          -  ·    1234141  ·            4  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  Token              ·  approve            ·           -  ·          -  ·      46846  ·            3  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  Token              ·  decreaseAllowance  ·           -  ·          -  ·      30050  ·            1  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  Token              ·  increaseAllowance  ·           -  ·          -  ·      30256  ·            1  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  Token              ·  mint               ·           -  ·          -  ·      68506  ·            5  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  Token              ·  transfer           ·       47521  ·      52333  ·      51127  ·            4  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  Token              ·  transferFrom       ·           -  ·          -  ·      60484  ·            1  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  tokenFactory       ·  create             ·      322194  ·     322206  ·     322200  ·            4  ·          -  │
······················|·····················|··············|·············|·············|···············|··············
|  Deployments                              ·                                          ·  % of limit   ·             │
············································|··············|·············|·············|···············|··············
|  ERC20Token                               ·           -  ·          -  ·    1361592  ·        4.5 %  ·          -  │
············································|··············|·············|·············|···············|··············
|  ERC20TokenFactory                        ·           -  ·          -  ·    1799384  ·          6 %  ·          -  │
············································|··············|·············|·············|···············|··············
|  Token                                    ·     1273590  ·    1273626  ·    1273623  ·        4.2 %  ·          -  │
············································|··············|·············|·············|···············|··············
|  tokenFactory                             ·           -  ·          -  ·     698124  ·        2.3 %  ·          -  │
·-------------------------------------------|--------------|-------------|-------------|---------------|-------------·
```